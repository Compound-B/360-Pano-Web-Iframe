TWP.Module=TWP.Module||{};(function(a){TWP.Module.Slider=function(e){var c=e;var l=false;var f=false;var d=false;var g=true;var j='<div class="controller"><div class="handle-arrows"></div><div class="content-scroll"><div class="divider"></div></div><div class="handle fade-element"></div></div>';var b=a(c.wrapper);var p=b.children("div");var n=b.width();var i=c.start_pos?n*Number(c.start_pos):n/2;var r=function(v,o){var u=b.width();var s=v===null?(c.start_pos?u*Number(c.start_pos):u/2):v;if(g){g=false;var t=o?Math.abs(v-i)/1.5:1;b.children(".controller").animate({left:s+"px"},t,"easeInOutCirc");b.children(".slide-content").eq(1).animate({width:s},t,"easeInOutCirc",function(){g=true})}i=s},q=function(){b.addClass("wp-slider").append(j);b.find(".handle-arrows").css({opacity:0});k();m();h();a("#content").css("overflow","visible");r(null,true);b.addTouch()},k=function(){var s=0;for(var t=c.content.length-1;t>=0;t--){var v=c.content[t];var y=s===c.content.length-1;var o=b.width();var x=c.content_type==="img"?'<img src="'+v+'" style="max-width: '+o+'px" />':v;var u=y?"last-slide":"";b.append('<div class="slide-content '+u+'">'+x+"</div>");var z=b.find(".slide-content").eq(s);if(c.labels){z.prepend('<p class="content-label franklin"><strong>'+c.labels[t]+"</strong></p>");z.find(".content-label").css("min-width",z.find(".content-label").width())}s++}},m=function(){b.slider({orientation:"horizontal",range:false,min:0,max:n,value:i,slide:function(s,o){if(g){if(s.originalEvent.type==="mousedown"){r(o.value,true)}else{r(o.value);i=o.value}}},change:function(s,o){try{if(s.originalEvent.type==="keyup"){r(o.value)}}catch(s){}},start:function(s,o){l=true},stop:function(s,o){l=false;if(!f){a(this).mouseleave()}if(!d){a(this).find(".handle").mouseleave()}}})},h=function(){b.on("mouseover",function(){f=true;a(this).find(".fade-element").stop().animate({opacity:1},150);a(this).find(".handle-arrows").stop().animate({opacity:1},220)}).on("mouseout",function(){f=false;if(!l){a(this).find(".fade-element").stop().animate({opacity:0.8},230);a(this).find(".handle-arrows").stop().animate({opacity:0},200)}}).find(".controller").on("mouseover",function(){d=true;a(this).find(".handle").addClass("hover")}).on("mouseleave",function(){d=false;if(!l){a(this).find(".handle").removeClass("hover")}}).on("mousedown",function(){l=true});a(window).resize(function(){var o=b.width();if(i>o){r(o)}b.slider("option","max",o).slider("option","value",i).find(".slide-content img").css("max-width",o)})};q()};jQuery.extend(jQuery.easing,{easeInOutCirc:function(f,g,e,i,h){if((g/=h/2)<1){return -i/2*(Math.sqrt(1-g*g)-1)+e}return i/2*(Math.sqrt(1-(g-=2)*g)+1)+e}})})(jQuery);